(self.webpackChunkalfakini_com=self.webpackChunkalfakini_com||[]).push([[678],{6291:function(e,t){"use strict";var a=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!a.test(e))return!1;var t=e.split("@");return!(t[0].length>64)&&!t[1].split(".").some((function(e){return e.length>63}))}},6522:function(e,t,a){"use strict";function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}a.d(t,{Z:function(){return i}});var n=a(3552),r=a(7294),s=a(6291),c=function(e){var t=e.onSubmit,a=e.onChange,l=e.formStatus,n=e.email,s=!e.isEmailValid&&""!==n||"SUBMITED"===l&&""===n,c=s?"is-invalid":""!==n?"is-valid":"";return r.createElement("form",{className:"row",onSubmit:t},r.createElement("div",{className:"col-12 col-md-8 mb-3"},r.createElement("input",{className:"form-control form-control-lg "+c,name:"email",onChange:a,placeholder:"Your email address",type:"text",value:n})),r.createElement("div",{className:"col mb-3"},r.createElement("button",{type:"submit",className:"btn btn-primary btn-lg w-100",disabled:s},"Subscribe",s||"SUBMITED"!==l?r.createElement(r.Fragment,null):r.createElement("span",{class:"spinner-border spinner-border-sm ms-3 align-middle",role:"status","aria-hidden":"true"}))))},i=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={email:"",formStatus:"NOTSUBMITED",isEmailValid:!1},a.handleChange=a.handleChange.bind(l(a)),a.handleSubmit=a.handleSubmit.bind(l(a)),a}(0,n.Z)(t,e);var a=t.prototype;return a.handleChange=function(e){this.setState({email:e.target.value,formStatus:"NOTSUBMITED",isEmailValid:s.validate(e.target.value)})},a.handleSubmit=function(e){var t=this;if(e.preventDefault(),this.setState({formStatus:"SUBMITED"}),!this.state.isEmailValid)return null;fetch("https://script.google.com/macros/s/AKfycbxzL-lO0ueLup75k_hQFxXglnn_Smz8jl1pChh-heMtUm2rb7-l0D-ZYwiTCbqceg6u/exec?"+new URLSearchParams({email:this.state.email}),{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),"success"===e.result&&t.setState({formStatus:"SUCCESS"})}))},a.render=function(){var e=this.state,t=e.email,a=e.isEmailValid,l=e.formStatus;return r.createElement("div",{id:"newsletter",className:"card bg-light border-light rounded p-5"},r.createElement("div",{className:"row p-3 px-5"},r.createElement("div",{className:"col"},r.createElement("h2",{className:"card-title"},r.createElement("span",null,"Newsletter")),r.createElement("div",{className:"card-text"},r.createElement("p",{className:"lead"},"Join the newsletter to receive the latest essays in your inbox. Alternatively, you can ",r.createElement("a",{href:"/rss.xml"},"subscribe with RSS"),"."),a&&"SUCCESS"===l?r.createElement("span",{class:"text-success"},"Thank you for subscribing. See you on the next issue! :)"):r.createElement(c,{email:t,formStatus:l,isEmailValid:a,onChange:this.handleChange,onSubmit:this.handleSubmit})))))},t}(r.Component)},7670:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(7294),n=a(1312),r=a(5444),s=a(154),c=function(e){var t=e.data;return l.createElement("article",{className:"post-card card border-0",key:t.fields.slug},l.createElement("div",{className:"card-body"},l.createElement("div",{className:"row gx-4 gy-3"},l.createElement("div",{className:"col-sm-3 col-md-3"},l.createElement("div",{className:"row gy-1 card-text"},l.createElement("div",{className:"col-6 col-sm-12"},l.createElement("time",{className:"post-date float-start text-muted",datetime:t.frontmatter.date,title:t.frontmatter.date},t.frontmatter.date)),l.createElement("div",{className:"col-6 col-sm-12"},l.createElement("span",{className:"post-category float-end float-sm-start text-uppercase text-muted"},t.frontmatter.category)))),l.createElement("div",{className:"col-sm-6 col-md-6"},l.createElement("h2",{className:"post-title card-title h6"},l.createElement(r.Link,{className:"stretched-link",to:t.fields.path},t.frontmatter.title)),l.createElement("p",{className:"card-text line-clamp-sm-3"},t.frontmatter.abstract)),l.createElement("div",{className:"col-sm-3 col-md-3"},l.createElement(s.G,{image:(0,s.e)(t.fields.cover),alt:t.frontmatter.title,className:"img-fluid float-end"})))))},i=a(6522),m=function(e){var t=e.location,a=e.data.allMarkdownRemark.edges;return l.createElement(n.Z,{location:t,title:"Essays"},l.createElement("div",{className:"row align-items-center justify-content-center"},l.createElement("div",{className:"col-sm-10 col-md-10 col-lg-8"},l.createElement("h2",null,"Essays"),l.createElement("hr",{className:"mt-5"}),a.map((function(e){return l.createElement(l.Fragment,null,l.createElement(c,{data:e.node}),l.createElement("hr",null))})),l.createElement(i.Z,null))))}}}]);
//# sourceMappingURL=component---src-pages-index-js-f92ace38a41664ad3caf.js.map